<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  </link>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i&display=swap">
  </link>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </link>
  <style>
    label {
      color: rgba(0, 0, 0, 0.54);
      padding: 0;
      font-family: Karla, sans-serif;
    }

    .field-container {
      margin-top: 5px;
      /* display: flex;
        justify-content: flex-end; */
    }

    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .karla {
      font-family: "Karla", sans-serif;
      color: #122632;
    }

    .cooper {
      font-family: Cooper-Medium, "Karla", sans-serif;
      color: #122632;
    }

    input {
      min-height: 40px;
      margin-bottom: 1px;
      border-bottom: 1px solid black;
      outline: none;
    }

    input:hover {
      margin-bottom: 0px;
      border-bottom: 2px solid black;
    }

    input:focus {
      margin-bottom: 0px;
      border-bottom: 2px solid #3f51b5;
    }

    .formContainer {
      width: 66.66%;
      min-height: 100vh;
    }

    .greenButton {
      font-family: "Karla", sans-serif;
      background-color: #145F58;
    }

    .greenButton:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .yellowButton {
      font-family: "Karla", sans-serif;
      background-color: #E5A500;
    }

    .tabTextColor {
      color: rgba(0, 0, 0, 0.54);
    }

    .selectedTab {
      border-left: 3px solid #122632;
      color: #122632;
    }

    .illustrationBox {
      border: 1px solid red;
    }
  </style>
  <script>
    var styles = "";
    var units = "";
    var people = "";
    const costPerUnit = 12;
    const rrpMark = 4;
    const prdManagersalary = 40000;
    const timedSavedUsingSC = 0.5;
    const params = new URLSearchParams(window.location.search)
    const currency = params.get('currency') || "Â£";
    const pricingValues = {
      name: ["seed", "sapling", "canopy", "rainforest"],
      stylesStored: [10, 100, 500, 2000],
      liveFactories: [1, 3, 15, 50],
      costPerMonth: [250, 995, 3490, 9500],
    };

    function getMatchCostIndex(styleStored) {
      return pricingValues.stylesStored.findIndex(
        (item) => styleStored < item
      );
    }

    function getToLocalString(x) {
      return Number(x).toLocaleString()
    }

    function toggleButton() {
      if (people && units && styles) {
        $('#calculate-button').prop('disabled', false);
      }
      else {
        $('#calculate-button').prop('disabled', true);
      }
    }

    $(document).ready(function () {
      $("#styles").val(styles);

      $("#units").val(units);

      $("#people").val(people);
      $("#result").hide();
      $("#inputsTab").addClass("selectedTab")
      toggleButton();
      $("#styles").keyup(function () {
        styles = $(this).val();
        toggleButton()
      });

      $("#units").keyup(function () {
        units = $(this).val();
        toggleButton()
      });

      $("#people").keyup(function () {
        people = $(this).val();
        toggleButton()
      });

      $("#reenter").click(function () {
        $("#inputForm").show();
        $("#result").hide();
        $("#inputsTab").addClass("selectedTab")
        $("#resultTab").removeClass("selectedTab")
      });

      $("#calculate-button").click(function () {

        if (styles !== "" && units !== "" && people !== "") {
          const averageRRP = costPerUnit * rrpMark;
          const totalUnits = styles * units;
          const gmv = totalUnits * costPerUnit;
          const revenue = gmv * rrpMark;
          const prdManTimePerStyle = parseInt(people * (2080 / styles));
          const prdManagerOverHead = prdManagersalary * 0.2;
          const prdManagerCostTotal = prdManagersalary + prdManagerOverHead;
          const prdManagerCostPerHR = parseInt(prdManagerCostTotal / 2080);
          const annualCostMangProd = prdManagerCostTotal * people;
          const prdManCostPerStyle = (annualCostMangProd / styles).toFixed(2);
          const prdManCostPerUnit = (annualCostMangProd / totalUnits).toFixed(2);
          const perRevenueSpentOnMangProd = Math.round(
            (annualCostMangProd / revenue) *
            100
          );
          const manhrsSaved = parseInt(styles * prdManTimePerStyle * timedSavedUsingSC);
          const grossCostSaved = timedSavedUsingSC * annualCostMangProd;
          const peopleSaved = parseInt(manhrsSaved / (2080 * 0.75));
          const subscriptionCost =
            pricingValues.costPerMonth[getMatchCostIndex(styles)] * 12;
          const netSaving = grossCostSaved - subscriptionCost;
          const returnOnInvestment = parseInt(
            (netSaving / subscriptionCost) * 100
          );
          const savedonOnePrice = parseInt(netSaving / subscriptionCost);

          $("#avgRRP").text(currency + ' ' + averageRRP);
          $("#gmv").text(currency + ' ' + getToLocalString(gmv));
          $("#revenue").text(currency + ' ' + getToLocalString(revenue));
          $("#totalUnits").text(getToLocalString(totalUnits));
          $("#prdManTimePerStyle").text(getToLocalString(prdManTimePerStyle));
          $('#hrsManagingProd').text(getToLocalString(styles * prdManTimePerStyle))
          $("#prdManCostPerStyle").text(currency + ' ' + getToLocalString(prdManCostPerStyle));
          $("#costSpentManagement").text(currency + ' ' + getToLocalString(annualCostMangProd));


          $("#prdManCostPerUnit").text(currency + ' ' + getToLocalString(prdManCostPerUnit));
          $("#revenueSpentOnManage").text(perRevenueSpentOnMangProd + "%");
          // $("#timeSavedSC").text(timedSavedUsingSC * 100 + "%");
          $("#grossCostSaved").text(currency + ' ' + getToLocalString(grossCostSaved));
          $("#timeSaved").text(manhrsSaved);
          $("#peopleSaved").text(peopleSaved);
          $("#subscriptionCost").text(currency + ' ' + getToLocalString(subscriptionCost));
          $("#netSavings").text(currency + ' ' + getToLocalString(netSaving));
          $("#returnCost").text(returnOnInvestment + "%");
          $("#moneyReturnPerone").text(currency + ' ' + getToLocalString(savedonOnePrice));
          $("#salary").text(currency + ' ' + getToLocalString(prdManagersalary));
          $("#overheads").text(currency + ' ' + getToLocalString(prdManagerOverHead));
          $("#prdManCostTotal").text(currency + ' ' + getToLocalString(prdManagerCostTotal));
          $("#costPerhr").text(currency + ' ' + getToLocalString(prdManagerCostPerHR));
          $("#result").show();
          $("#inputsTab").removeClass("selectedTab")
          $("#inputForm").hide();
          $("#resultTab").addClass("selectedTab")

        } else {
          alert("please fill the fields");
        }
      });
    });
  </script>
</head>

<body>
  <div class="flex relative bg-gray-100">
    <a href='https://supplycompass.com/pricing/' class='absolute text-xl cursor-pointer' style="top:20px;right:20px">
      <i class="fa fa-close"></i></a>
    <div id="inputForm" class="formContainer flex flex-col py-10 px-16">
      <p class="text-4xl cooper font-bold mb-4">How much could you save by using Supply Compass ?</p>
      <form>
        <div class="flex flex-col mb-4">
          <label class="text-base mb-1">How many styles do you produce per year?</label>
          <input id="styles" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="py-2" />
        </div>
        <div class="flex flex-col mb-4">
          <label class="text-base mb-1">How many units (on average) do you produce per style?</label>
          <input id="units" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="py-2" />
        </div>
        <div class="flex flex-col mb-4">
          <label class="text-base mb-1">How many people work in your production team? (production managers, designers,
            creative director etc.)
            <!-- (Designers, Product
            Dev,Garment Tech, Production Managers, Merchandisers) -->
          </label>
          <input id="people" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="py-2" />
        </div>
      </form>
      <div>
        <button id="calculate-button"
          class="greenButton text-base text-white flex items-center capitalize font-semibold py-3 px-6 rounded-sm">Calculate</button>
      </div>
    </div>
    <div id="result" class="formContainer flex flex-col p-10 text-base Karla">
      <p class="text-4xl cooper font-bold mb-4">Based on your inputs and our industry data:</p>
      <p class='mb-4'>
        As a business, you spend <b id="costSpentManagement"></b> per year managing production.<br /><br />
        That's approx <b id="revenueSpentOnManage"></b> of your total revenue spent on managing production. <br /><br />
        You are spending <b id='hrsManagingProd'></b> hrs managing production.<br /><br /> That's <b
          id="prdManTimePerStyle"></b> hrs for
        every style
        you produce.
      </p>


      <p class="text-2xl cooper font-bold mb-4">SupplyCompass can streamline your Production:</p>

      <p>We estimate <b>we can save you <span id="timeSaved"></span> hrs</b> of your time.<br /><br />
        Giving you a <b>net saving of <span id="netSavings"></span></b> every year.<br /><br />
        That's a <b><span id="returnCost"></span> return on investment</b> in our platform.</p>


      <div class='flex mt-6'>
        <a href="https://platform.supplycompass.com/register/1" rel="noopener noreferrer">
          <button
            class="greenButton text-base text-white flex items-center capitalize font-semibold py-3 px-6 rounded-sm">Start
            Free Trail</button></a>
        <a href="https://supplycompass.com/about-supplycompass/#contact" rel="noopener noreferrer">
          <button
            class="yellowButton ml-5 text-base text-white flex items-center capitalize font-semibold py-3 px-6 rounded-sm">Speak
            to Sales</button>
        </a>
      </div>
      <div class='mt-2'>
        <button id="reenter"
          class="text-sm underline flex items-center capitalize font-semibold rounded-sm">Recalulate</button>
      </div>
    </div>
    <div class="w-4/12 flex flex-col">
      <div class="flex flex-col ml-10 mt-10">
        <p id='inputsTab' class='text-base pl-3 py-1 m-1 Karla tabTextColor'>Inputs</p>
        <p id='resultTab' class='text-base pl-3 py-1 m-1 Karla tabTextColor'>Results</p>
      </div>
      <div class='flex  m-1 mt-5'>
        <img src='https://public-uploads.supplycompass.com/assets/spend-calculator/ro-illustration.png
' alt='illustrations' />
      </div>
    </div>
  </div>
</body>

</html>