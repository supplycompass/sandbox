<html>

<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  </link>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla:400,400i,700,700i&display=swap">
  </link>
  <style>
    label {
      color: rgba(0, 0, 0, 0.54);
      padding: 0;
      font-family: Karla, sans-serif;
    }

    .field-container {
      margin-top: 5px;
      /* display: flex;
        justify-content: flex-end; */
    }

    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .karla {
      font-family: "Karla", sans-serif;
      color: #122632;
    }

    .cooper {
      font-family: Cooper-Medium, "Karla", sans-serif;
      color: #122632;
    }

    input {
      min-height: 40px;
      margin-bottom: 1px;
      border-bottom: 1px solid black;
      outline: none;
    }

    input:hover {
      margin-bottom: 0px;
      border-bottom: 2px solid black;
    }

    input:focus {
      margin-bottom: 0px;
      border-bottom: 2px solid #3f51b5;
    }

    .formContainer {
      min-height: 100vh;
      max-width: 730px;
    }

    .greenButton {
      font-family: "Karla", sans-serif;
      background-color: #145F58;
    }

    .greenButton:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  </style>
  <script>
    var styles = "";
    var units = "";
    var people = "";
    const costPerUnit = 12;
    const rrpMark = 4;
    const prdManagersalary = 40000;
    const timedSavedUsingSC = 0.5;
    const currency = "£";
    const pricingValues = {
      name: ["seed", "sapling", "canopy", "rainforest"],
      stylesStored: [10, 100, 500, 2000],
      liveFactories: [1, 3, 15, 50],
      costPerMonth: [250, 995, 3490, 9500],
    };

    function getMatchCostIndex(styleStored) {
      return pricingValues.stylesStored.findIndex(
        (item) => styleStored < item
      );
    }

    function toggleButton() {
      if (people && units && styles) {
        $('#calculate-button').prop('disabled', false);
      }
      else {
        $('#calculate-button').prop('disabled', true);
      }
    }

    $(document).ready(function () {
      $("#result").hide();
      toggleButton();
      $("#styles").keyup(function () {
        styles = $(this).val();
        toggleButton()
      });

      $("#units").keyup(function () {
        units = $(this).val();
        toggleButton()
      });

      $("#people").keyup(function () {
        people = $(this).val();
        toggleButton()
      });

      $("#reenter").click(function () {
        $("#inputForm").show();
        $("#result").hide();
      });

      $("#calculate-button").click(function () {
        if (styles !== "" && units !== "" && people !== "") {
          const averageRRP = costPerUnit * rrpMark;
          const totalUnits = styles * units;
          const gmv = totalUnits * costPerUnit;
          const revenue = gmv * rrpMark;
          const prdManTimePerStyle = parseInt(people * (2080 / styles));
          const prdManagerOverHead = prdManagersalary * 0.2;
          const prdManagerCostTotal = prdManagersalary + prdManagerOverHead;
          const prdManagerCostPerHR = parseInt(prdManagerCostTotal / 2080);
          const annualCostMangProd = prdManagerCostTotal * people;
          const prdManCostPerStyle = (annualCostMangProd / styles).toFixed(2);
          const prdManCostPerUnit = (annualCostMangProd / totalUnits).toFixed(2);
          const perRevenueSpentOnMangProd = (
            (annualCostMangProd / revenue) *
            100
          ).toFixed(2);
          const manhrsSaved = parseInt(styles * prdManTimePerStyle * timedSavedUsingSC);
          const grossCostSaved = timedSavedUsingSC * annualCostMangProd;
          const peopleSaved = parseInt(manhrsSaved / (2080 * 0.75));
          const subscriptionCost =
            pricingValues.costPerMonth[getMatchCostIndex(styles)] * 12;
          const netSaving = grossCostSaved - subscriptionCost;
          const returnOnInvestment = parseInt(
            (netSaving / subscriptionCost) * 100
          );
          const savedonOnePrice = parseInt(netSaving / subscriptionCost);

          $("#avgRRP").text(averageRRP + currency);
          $("#gmv").text(gmv + currency);
          $("#revenue").text(revenue + currency);
          $("#totalUnits").text(totalUnits);
          $("#prdManTimePerStyle").text(prdManTimePerStyle);
          $("#prdManCostPerStyle").text(prdManCostPerStyle + currency);
          $("#costSpentManagement").text(annualCostMangProd + currency);
          $("#prdManCostPerUnit").text(prdManCostPerUnit + currency);
          $("#revenueSpentOnManage").text(perRevenueSpentOnMangProd + "%");
          $("#timeSavedSC").text(timedSavedUsingSC * 100 + "%");
          $("#grossCostSaved").text(grossCostSaved + currency);
          $("#timeSaved").text(manhrsSaved);
          $("#peopleSaved").text(peopleSaved);
          $("#subscriptionCost").text(subscriptionCost + currency);
          $("#netSavings").text(netSaving + currency);
          $("#returnCost").text(returnOnInvestment + "%");
          $("#moneyReturnPerone").text(savedonOnePrice + currency);
          $("#salary").text(prdManagersalary + currency);
          $("#overheads").text(prdManagerOverHead + currency);
          $("#prdManCostTotal").text(prdManagerCostTotal + currency);
          $("#costPerhr").text(prdManagerCostPerHR + currency);
          $("#result").show();
          $("#inputForm").hide();
        } else {
          alert("please fill the fields");
        }
      });
    });
  </script>
</head>

<body>
  <div class="flex justify-center">
    <div id="inputForm" class="bg-gray-100 formContainer flex flex-col py-10 px-16">
      <p class="text-4xl cooper font-bold mb-4">How much could you save by using Supply Compass ?</p>
      <form>
        <div class="flex flex-col mb-4">
          <label class="text-base mb-1">How many styles do you produce per year?</label>
          <input id="styles" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="py-2" />
        </div>
        <div class="flex flex-col mb-4">
          <label class="text-base mb-1">How many units (on average) do you produce per style?</label>
          <input id="units" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="py-2" />
        </div>
        <div class="flex flex-col mb-4">
          <label class="text-base mb-1">How many people work in your production team?
            <!-- (Designers, Product
            Dev,Garment Tech, Production Managers, Merchandisers) -->
          </label>
          <input id="people" oninput="this.value=this.value.replace(/[^0-9]/g,'');" class="py-2" />
        </div>
      </form>
      <div>
        <button id="calculate-button"
          class="greenButton text-base text-white flex items-center capitalize font-semibold py-3 px-6 rounded-sm">Calculate</button>
      </div>
    </div>
    <div id="result" class="bg-gray-100 formContainer flex flex-col p-10 text-base Karla">
      <p class="text-4xl cooper font-bold mb-4">Results</p>
      <div class="field-container mb-4">
        <p><b>Average RRP:</b> <span id="avgRRP"></span></p>
      </div>
      <div class="field-container mb-4">
        <p><b>GMV: </b><span id="gmv"></span></p>
      </div>
      <div class="field-container mb-4">
        <p><b>Revenue: </b><span id="revenue"></span></p>
      </div>
      <div class="field-container mb-4">
        <p><b>Total Units: </b><span id="totalUnits"></span></p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Prod Man Time per Style (hrs): </b>You spend
          <span id="prdManTimePerStyle"></span>
          hrs managing production for EACH style you bring to market
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Prod Man Cost per Style (£): </b>This costs you
          <span id="prdManCostPerStyle"></span> for EACH style you bring to
          market
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Annual Cost Spent Managing Production: </b>That's
          <span id="costSpentManagement"></span>
          per year managing production
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Prod Man Cost per unit (£): </b>That's the first
          <span id="prdManCostPerUnit"></span> of every product you sell
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>% of Revenue spent Managing Production: </b>You're spending approx
          <span id="revenueSpentOnManage"></span> of your total revenue on
          managing production
        </p>
      </div>

      <p class="text-2xl cooper font-bold mb-4">Supply Compass Value:</p>
      <div class="field-container mb-4">
        <p>
          <b>Time Saved using SC Platform: </b>
          <span id="timeSavedSC"></span>
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Gross Cost Saved: </b>SupplyCompass can save you
          <span id="grossCostSaved"></span> per year
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Man Hrs Saved (per year): </b> that's
          <span id="timeSaved"></span> hrs of your time or
          <span id="peopleSaved"></span> people of full time per year
        </p>
      </div>

      <div class="field-container mb-4">
        <p>
          <b>Supply Compass subscription: </b> And all it will cost you is
          <span id="subscriptionCost"></span>
        </p>
      </div>

      <div class="field-container mb-4">
        <h2>
          <b>Net Savings: </b> That's a net saving of
          <span id="netSavings"></span> every year
        </h2>
      </div>

      <div class="field-container mb-4">
        <p>
          <b>Return on investment: </b> That's a
          <span id="returnCost"></span> Return on investment. Put another way,
          for every £1 you spend with SupplyCompass you save
          <span id="moneyReturnPerone"></span>
        </p>
      </div>

      <p class="text-2xl cooper font-bold mb-4">Production Manager Costs:</p>
      <div class="field-container mb-4">
        <p>
          <b>Salary: </b>
          <span id="salary"></span>
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Overheads: </b>
          <span id="overheads"></span>
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Prod Man Cost TOTAL: </b>
          <span id="prdManCostTotal"></span>
        </p>
      </div>
      <div class="field-container mb-4">
        <p>
          <b>Cost per hr:</b>
          <span id="costPerhr"></span>
        </p>
      </div>
      <div>
        <button id="reenter"
          class="greenButton text-base text-white flex items-center capitalize font-semibold py-3 px-6 rounded-sm">Recalulate</button>
      </div>
    </div>
  </div>
</body>

</html>
